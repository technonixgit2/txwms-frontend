{"version":3,"sources":["./src/app/demo/report/report/transaction/salesreport/salesreport.component.html","./src/app/demo/report/report/transaction/salesreport/salesreport-routing.module.ts","./src/app/demo/report/report/transaction/salesreport/salesreport.component.scss","./src/app/demo/report/report/transaction/salesreport/salesreport.component.ts","./src/app/demo/report/report/transaction/salesreport/salesreport.module.ts"],"names":[],"mappings":"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","file":"salesreport-salesreport-module-es2015.js","sourcesContent":["export default \"<div class=\\\"row\\\" >\\n\\n  <div class=\\\"col-xl-12 text-right\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)='exportToExcel(profitData)'>Export &nbsp; <i class=\\\"fas fa-file-export\\\"></i></button>\\n  </div>\\n\\n    <div class=\\\"col-xl-12\\\">\\n        <app-card cardTitle=\\\"Sales-Report\\\" [options]=\\\"false\\\" blockClass=\\\"table-border-style\\\" >\\n        <div class=\\\"month\\\" style=\\\"text-align: right; \\\"> <b style=\\\"color: black;\\\">Select Month &nbsp;</b>\\n            <select (change)=\\\"setchange($event.target.value)\\\" style=\\\"width: 183px; height: 30px;\\\">\\n                <option  value='1'>January</option>\\n                <option value='2'>February</option>\\n                <option value='3'>March</option>\\n                <option value='4'>April</option>\\n                <option value='5'>May</option>\\n                <option value='6'>June</option>\\n                <option value='7'>July</option>\\n                <option value='8'>August</option>\\n                <option value='9'>September</option>\\n                <option value='10'>October</option>\\n                <option value='11'>November</option>\\n                <option  value='12'>December</option>\\n                </select> \\n          </div>\\n          <br>\\n          <div class=\\\"table-responsive\\\">\\n            <table class=\\\"table table-striped\\\"  datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\"  >\\n              <thead>\\n              <tr>\\n                <th>Date</th>\\n                <th> Item Code</th>  \\n                <th> Description </th>\\n                <th>Quantity </th>\\n                <th> Total </th>\\n                <!-- <th> Profit</th>  -->\\n              </tr>\\n              </thead>\\n              <tbody>\\n              <tr *ngFor='let data of profitData'>\\n                <td>{{data.idate}}</td>\\n                <td>{{data.itemCode}}</td>\\n                <td>{{data.description}} </td>\\n                <td>{{data.custQuantity}} </td>\\n                <td>{{data.invoiceTotal | number:'1.2-2'}} </td>\\n                <!-- <td>{{data.profit}}</td> -->\\n             </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n        </app-card>\\n    \\n      </div>\\n</div>\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {SalesreportComponent} from './salesreport.component';\r\n//  import { FileformComponent } from \"../file-upload/fileform/fileform.component\";\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SalesreportComponent\r\n  },\r\n \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SaleReportRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW8vcmVwb3J0L3JlcG9ydC90cmFuc2FjdGlvbi9zYWxlc3JlcG9ydC9zYWxlc3JlcG9ydC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { SalesService } from '../../../../pages/sales/sales.service';\nimport { PurchaseService } from '../../../../extra/sample-page/purchase.service';\nimport { Subject } from 'rxjs';\nimport { ExcelService } from \"../../../../../../assets/xlservice/xlservice\";\n\n@Component({\n  selector: 'app-salesreport',\n  templateUrl: './salesreport.component.html',\n  styleUrls: ['./salesreport.component.scss']\n})\nexport class SalesreportComponent implements OnInit {\n  getData;\n  product = [];\n  invoice = [];\n  profitData=[];\n  final;\n  sss;\n  mname;\n  pro;\n  purchaseData;\n  getInvoice;\n  Excel=[]\n  total = [];\n  dtOptions: DataTables.Settings = {};\ndtTrigger: Subject<any> = new Subject();\n  constructor(private billingService: SalesService,\n     private purchaseService: PurchaseService,\n     private excelService:ExcelService) { }\n\n  ngOnInit() {\n   \n      this.dtOptions = {\n        pagingType: 'full_numbers',\n        pageLength: 10\n      };\n\n  this.billingService.getInvProduct().subscribe(data => {\n    this.getData = data;\n    this.product = [];\n    console.log(this.getData);\n    this.getData.forEach(data => {\n      data.products.forEach(dat => {\n      this.product.push(dat);\n      });\n    });\n  });\n  this.getPurchase();\n}\ngetPurchase() {\nthis.purchaseService.getPurchaseData().subscribe(data => {\n  this.purchaseData = data,\n  this.total = [];\n  this.purchaseData.forEach(val => {\n   this.getInvoice = val.invoice;\n   this.getInvoice.forEach(dat => {\n    this.total.push(dat);\n   });\n  });\n});\n}\nsetchange(selectedvalue) {\n  this.sss = selectedvalue;\n \n  this.invoice = [];\n  const emp = [this.sss];\n  const filteredArray = this.product.filter(function(itm) {\n    return emp.indexOf(itm.crntmonth) > -1;\n        });\n  this.pro = filteredArray;\n  this.pro.forEach(data => {\n          data.custQuantity = Number.parseInt(data.custQuantity);\n          data.invoiceTotal = Number.parseInt(data.invoiceTotal);\n          this.invoice.push(data);\n        });\n  const ava = this.invoice.reduce((accc, objj) => {\n          const existItem = accc.find(item => item.itemCode === objj.itemCode);\n          if (existItem) {\n            existItem.custQuantity += objj.custQuantity;\n            existItem.invoiceTotal += objj.invoiceTotal;\n            return accc;\n          }\n          accc.push(objj);\n          return accc;\n         }, []);\n  this.final = ava;\n  this.profitData=[];\n  this.total.filter(val => {\n      this.final.forEach(data => {\n      if (data.itemCode === val.itemCode) {\n        data.profit=data.invoiceTotal-(val.price*data.custQuantity);\n        this.profitData.push(data)\n      }\n    });\n    // this.dtTrigger.next();\n  });\n   this.dtTrigger.next();\n  console.log(this.profitData,'goods');\n}\n\nexportToExcel(event) {\n  this.Excel=[]\n  event.forEach(dat => {\n    var Date=dat.idate\n    var ItemCode= dat.itemCode\n    var Description=dat.description\n    var Quantity=dat.custQuantity\n    var Total=dat.invoiceTotal\n    // var Profit=dat.profit\n    var obj=Object.assign({Date,ItemCode,Description,Quantity,Total})\n    this.Excel.push(obj)\n   });\n  this.excelService.exportAsExcelFile( this.Excel, 'persons');\n}\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DataTablesModule } from 'angular-datatables';\r\n\r\nimport { SaleReportRoutingModule} from './salesreport-routing.module';\r\n// import { FileUploadComponent } from './fi';\r\nimport {SharedModule} from '../../../../../theme/shared/shared.module';\r\nimport { SalesreportComponent } from './salesreport.component';\r\n// import { NoteformComponent } from \"./noteform/noteform.component\";\r\n\r\n\r\n@NgModule({ \r\n  declarations: [SalesreportComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SaleReportRoutingModule,\r\n    SharedModule,\r\n    \r\n    DataTablesModule\r\n  ] \r\n})\r\nexport class SaleReportModule { }  \r\n  "],"sourceRoot":"webpack:///"}