{"version":3,"sources":["./src/app/demo/report/report/item-stock/lowstock-report/lowstock-report.component.html","./src/app/demo/report/report/item-stock/lowstock-report/lowstock-report-routing.module.ts","./src/app/demo/report/report/item-stock/lowstock-report/lowstock-report.component.scss","./src/app/demo/report/report/item-stock/lowstock-report/lowstock-report.component.ts","./src/app/demo/report/report/item-stock/lowstock-report/lowstock.module.ts"],"names":[],"mappings":"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","file":"lowstock-report-lowstock-module-es2015.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-xl-12 text-right\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)='exportToExcel(lowstock)'>Export &nbsp; <i class=\\\"fas fa-file-export\\\"></i></button>\\n\\n  </div>\\n  \\n  <div class=\\\"col-xl-12\\\">\\n      <app-card cardTitle=\\\"Low-Stock Summary\\\" [options]=\\\"false\\\" blockClass=\\\"table-border-style\\\">\\n        <div class=\\\"table-responsive\\\">\\n          <table class=\\\"table table-striped\\\" datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\" class=\\\"row-border hover\\\">\\n            <thead>\\n            <tr>\\n              <th>Item-Code</th>\\n              <th>ItemName</th>\\n              <th>ItemIn</th>\\n              <th>ItemOut</th>\\n              <th>Balance</th>\\n            </tr>\\n            </thead>\\n            <tbody>\\n              <tr *ngFor='let data of lowstock'>\\n                <td>{{data.ItemCode}}</td>\\n                <td>{{data.ItemName}}</td>\\n                <td>{{data.ItemIn}}</td>\\n                <td>{{data.ItemOut}}</td>\\n                <td>{{data.Balance}}</td>\\n  \\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </app-card>\\n     \\n    </div>\\n  \\n  </div>\\n  \\n  \"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {LowstockReportComponent} from './lowstock-report.component';\r\n//  import { FileformComponent } from \"../file-upload/fileform/fileform.component\";\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LowstockReportComponent\r\n  },\r\n \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LowStockRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2RlbW8vcmVwb3J0L3JlcG9ydC9pdGVtLXN0b2NrL2xvd3N0b2NrLXJlcG9ydC9sb3dzdG9jay1yZXBvcnQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { RouterModule, Router } from '@angular/router';\nimport { SalesService } from '../../../../pages/sales/sales.service';\nimport { PurchaseService } from '../../../../extra/sample-page/purchase.service';\nimport { ReturnService } from \"../../../../pages/sales/returnproducts/return.service\";\nimport { Subject } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport { DataTableDirective } from 'angular-datatables';\nimport { ExcelService } from \"../../../../../../assets/xlservice/xlservice\";\n\n@Component({\n  selector: 'app-lowstock-report',\n  templateUrl: './lowstock-report.component.html',\n  styleUrls: ['./lowstock-report.component.scss']\n})\nexport class LowstockReportComponent implements OnInit {\n  getProduct;\n  stockOut;\n  final;\n  Excel=[]\n  purchase;\n  returnProducts\n  invoice;\n  stock = [];\n  stockAva = [];\n  stockAvaa = [];\n  finalStock;\n  finalValue;\n  retproduct\n  ret=[]\n  repro=[]\n  itemin=[]\n  itemout=[]\n  checkout=[]\nstockfinal\n  returnpo\n  lowstock=[]\n   stockAvalibility=[];\n  dtOptions: DataTables.Settings = {};\n  dtTrigger: Subject<any> = new Subject();\n  dtElement: DataTableDirective; \n\n  isDtInitialized:boolean = false\n  constructor(private router: Router,\n    private stockService: SalesService, \n    private purchaseService: PurchaseService,\n    private returnservice:ReturnService,\n    private excelService:ExcelService) { }\n\n  ngOnInit() {\n    this.stockService.getInvProduct().subscribe(data => {\n      this.stockOut = data;\n      // console.log(this.stockOut,'stock')\n \n      this.stockOut.forEach(dataa => {\n       this.final = dataa.products;\n       this.final.forEach(dat => {\n         this.stock.push(dat);\n       });\n      });\n      // console.log(this.stock,'finalstock')\n \n      const res = this.stock.reduce((acc, obj) => {\n     const existItem = acc.find(item => item.itemCode === obj.itemCode);\n     if (existItem) {\n       existItem.custQuantity += obj.custQuantity;\n       return acc;\n     }\n     acc.push(obj);\n     return acc;\n    }, []);\n      this.finalStock = res;\n     //  console.log(res,'prod')\n      this.finalStock.forEach(data => {\n        this.stockAva.push(data);\n      });\n      this.checkout=this.stockAva\n      this.checkout.forEach(dataa => {\n        var ItemCode=dataa.itemCode\n        var ItemName=dataa.description\n        var ItemOut=dataa.custQuantity\n        var ItemIn=0\n      var Balance=0\n        var obj=Object.assign({ItemCode,ItemName,ItemOut,Balance,ItemIn })\n        this.itemout.push(obj)\n       \n      });\n      //  console.log(this.itemout,'itemout')\n\n      // console.log(this.stockAva,'itemoutava')\n    \n      });\n  \n    \n     this.purchaseService.getPurchaseData().subscribe(data => {\n        this.purchase = data;\n        this.purchase.forEach(datta => {\n        \n          this.invoice = datta.invoice;\n          this.invoice.forEach(dataa => {\n             this.stockAva.push(dataa);\n             var ItemCode=dataa.itemCode\n             var ItemName=dataa.description\n             var ItemIn=dataa.custQuantity\n             var ItemOut=0\n             var Balance=0\n             var obj=Object.assign({ItemCode,ItemName,ItemIn,ItemOut,Balance })\n             this.itemout.push(obj)\n          });\n          console.log( this.itemout ,'invoice ')\n        });\n      \n        const ava = this.stockAva.reduce((accc, objj) => {\n        const existItem = accc.find(item => item.itemCode === objj.itemCode);\n        if (existItem) {\n          existItem.custQuantity-=objj.custQuantity;\n          return accc;\n        }\n        accc.push(objj);\n        return accc;\n       }, []);\n    \n        this.finalValue=ava;\n        this.finalValue.forEach(data=>{\n    \n          data.custQuantity=Math.abs(data.custQuantity)\n    \n           this.stockAvalibility.push(data)\n        })\n        this.returnservice.getReturn().subscribe(data=>{\n         this.returnProducts=data;\n          // console.log(this.returnProducts,'returnprod')\n \n         this.returnProducts.forEach(dataa => {\n          \n             this.stockAvalibility.push(dataa)\n          });\n        //  console.log(this.returnProducts,'returnprod')\n         const repro=this.stockAvalibility.reduce((ac, jj) => {\n           const existItem = ac.find(item => item.itemCode === jj.itemCode);\n           if (existItem) {\n             existItem.returnproduct=jj.returnproduct;\n \n             return ac;\n           }\n           ac.push(jj);\n           return ac;\n          }, []);\n          this.retproduct=repro\n          this.retproduct.forEach(data=>{\n    \n           data.returnproduct=Math.abs(data.returnproduct)\n     \n            this.ret.push(data)\n           \n         })\n       \n         this.ret.forEach(dataa => {\n          var ItemCode=dataa.itemCode\n          var ItemName=dataa.description\n          var Balance=dataa.custQuantity\n          var ItemIn=0\n          var ItemOut=0\n          var obj=Object.assign({ItemCode,ItemName,Balance,ItemIn,ItemOut })\n          this.itemout.push(obj)\n         \n       });\n       console.log(this.itemout,'itemout')\n       const finalstock=this.itemout.reduce((ac, jj) => {\n        const existItem = ac.find(item => item.ItemCode === jj.ItemCode);\n        if (existItem) {\n          \n          existItem.ItemOut+=jj.ItemOut\n           existItem.ItemIn+=jj.ItemIn\n          existItem.Balance+=jj.Balance;\n\n          return ac;\n        }\n        ac.push(jj);\n        return ac;\n       }, []);\n       this.stockfinal=finalstock\n       console.log(this.stockfinal,'finalstock')\n       this.stockfinal.forEach(data=>{\n    \n        data.ItemIn=Math.abs(data.ItemIn)\n        data.Balance=Math.abs(data.Balance)\n\n         this.itemin.push(data)\n        \n      })\n      this.itemin.forEach(data=>{\n     if (data.Balance<=100) {\n      this.lowstock.push(data)      \n     } else {\n     }\n      })\n       console.log(this.lowstock,'last data')\n\n\n\n         if (this.isDtInitialized) {\n           this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n             dtInstance.destroy();\n             this.dtTrigger.next();\n           });\n         } else {\n           this.isDtInitialized = true\n           this.dtTrigger.next();\n         }\n         \n        })\n       \n       \n       //  console.log(this.ret,'availability')\n       \n    });\n \n     this.dtOptions = {\n     pagingType: 'full_numbers',\n     pageLength: 10\n    };\n  }\n  ngOnDestroy(): void {\n    // Do not forget to unsubscribe the event\n    this.dtTrigger.unsubscribe();\n  }\n  exportToExcel(event) {\n    this.Excel=[]\n    event.forEach(dat => {\n    var ItemCode =dat.ItemCode\n    var ItemName=dat.ItemName\n    var ItemIn=dat.ItemIn\n    var ItemOut=dat.ItemOut\n    var Balance=dat.Balance\n    var obj=Object.assign({ItemCode,ItemName,ItemIn,ItemOut,Balance})\n    this.Excel.push(obj)\n  });\n     \n    \n    this.excelService.exportAsExcelFile( this.Excel, 'persons');\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DataTablesModule } from 'angular-datatables';\r\n\r\nimport { LowstockReportComponent} from './lowstock-report.component';\r\nimport {SharedModule} from '../../../../../theme/shared/shared.module';\r\nimport { LowStockRoutingModule } from './lowstock-report-routing.module';\r\n\r\n\r\n@NgModule({ \r\n  declarations: [LowstockReportComponent],\r\n  imports: [\r\n    CommonModule,\r\n    LowStockRoutingModule,\r\n    SharedModule,\r\n    \r\n    DataTablesModule\r\n  ] \r\n})\r\nexport class LowStockModule { }  \r\n  "],"sourceRoot":"webpack:///"}